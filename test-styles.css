/* Test Interface Styles */
:root{
  --bg:#0b0b0f; --panel:#121219; --ink:#e8e8ef; --muted:#a6a6bb; --accent:#ff2e2e; --accent-2:#ff8247; --ring:#2a2a40;
  --ok:#2ecc71; --warn:#f1c40f; --info:#3498db;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:radial-gradient(1200px 600px at 20% -10%, #1b1b28 0, #0b0b0f 60%), var(--bg); color:var(--ink); font:16px/1.55 Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}

.test-container{min-height:100vh;display:flex;flex-direction:column}

/* Header */
.test-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--ring);background:rgba(18,18,25,.7);backdrop-filter:blur(8px);position:sticky;top:0;z-index:10}
.header-left{display:flex;align-items:center;gap:12px}
.header-left h1{margin:0;font-size:18px;font-weight:900;letter-spacing:.3px}
.back-btn{text-decoration:none;color:var(--ink);font-weight:700;padding:8px 10px;border-radius:10px;border:1px solid var(--ring);background:linear-gradient(180deg, rgba(255,46,46,.06), rgba(255,130,71,.05));}
.back-btn:hover{filter:brightness(1.1)}
.header-right{display:flex;align-items:center;gap:12px}
.timer{display:flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid var(--ring);border-radius:10px;background:#0e0e15}
.progress{padding:6px 10px;border:1px dashed var(--ring);border-radius:10px;color:var(--muted)}

/* Layout */
.test-main{display:grid;grid-template-columns:280px 1fr;gap:16px;max-width:1200px;margin:16px auto;padding:0 16px;width:100%}

/* Sidebar */
.test-sidebar{position:sticky;top:72px;align-self:start;background:var(--panel);border:1px solid var(--ring);border-radius:16px;padding:12px}
.sidebar-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.sidebar-header h3{margin:0;font-size:14px;font-weight:800;letter-spacing:.2px}
.sidebar-stats{color:var(--muted);font-size:12px}
.question-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
.question-btn{appearance:none;border:none;background:#0e0e15;border:1px solid var(--ring);color:var(--ink);border-radius:12px;padding:10px 0;font-weight:800;cursor:pointer;transition:transform .12s ease, box-shadow .12s ease, background .12s ease}
.question-btn:hover{transform:translateY(-1px);box-shadow:0 10px 20px rgba(0,0,0,.25)}
.question-btn.current{outline:2px solid transparent;background:linear-gradient(180deg, rgba(255,46,46,.10), rgba(255,130,71,.08));border-color:var(--accent)}
.question-btn.attempted{background:rgba(46, 204, 113, .15);border-color:rgba(46, 204, 113, .35)}
.question-btn.marked{background:rgba(241, 196, 15, .16);border-color:rgba(241, 196, 15, .32)}
.sidebar-actions{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:12px}
.action-btn{appearance:none;border:none;border-radius:12px;padding:10px 12px;cursor:pointer;font-weight:800;display:flex;align-items:center;gap:8px;background:#0e0e15;border:1px solid var(--ring);color:var(--ink)}
.action-btn:hover{filter:brightness(1.1)}
.review-btn{background:linear-gradient(180deg, rgba(241,196,15,.15), rgba(241,196,15,.08));border-color:rgba(241,196,15,.32)}
.clear-btn{background:linear-gradient(180deg, rgba(52,152,219,.12), rgba(52,152,219,.06));border-color:rgba(52,152,219,.32)}

/* Question Area */
.question-area{display:grid;gap:12px}
.question-container{background:var(--panel);border:1px solid var(--ring);border-radius:16px;padding:16px}
.question-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.question-header h2{margin:0;font-size:18px;font-weight:900}
.mark-btn{appearance:none;border:none;border-radius:12px;padding:10px 12px;cursor:pointer;font-weight:800;display:flex;align-items:center;gap:8px;background:linear-gradient(180deg, rgba(241,196,15,.15), rgba(241,196,15,.08));border:1px solid rgba(241,196,15,.32);color:var(--ink)}
.question-content{border-top:1px solid var(--ring);padding-top:10px}
.question-story p{margin:0 0 10px}
.question-formula .formula-hint{margin-top:8px;padding:10px 12px;border-radius:12px;background:#0e0e15;border:1px dashed #2a2a40;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:14px}

/* Answer */
.answer-section{margin-top:10px}
.answer-input label{display:block;font-weight:800;margin-bottom:6px}
.answer-input textarea{width:100%;resize:vertical;min-height:120px;background:#0e0e15;border:1px solid var(--ring);border-radius:12px;color:var(--ink);padding:10px;font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}

/* Navigation */
.question-navigation{display:flex;align-items:center;justify-content:space-between;gap:8px;background:var(--panel);border:1px solid var(--ring);border-radius:16px;padding:10px}
.nav-center{display:flex;align-items:center;gap:8px}
.nav-btn{appearance:none;border:none;border-radius:12px;padding:10px 14px;cursor:pointer;font-weight:900;display:inline-flex;align-items:center;gap:8px;background:#0e0e15;border:1px solid var(--ring);color:var(--ink);transition:transform .12s ease, box-shadow .12s ease}
.nav-btn:hover{transform:translateY(-1px);box-shadow:0 10px 20px rgba(0,0,0,.25)}
.prev-btn{background:linear-gradient(180deg, rgba(52,152,219,.12), rgba(52,152,219,.06));border-color:rgba(52,152,219,.32)}
.next-btn{background:linear-gradient(180deg, rgba(255,46,46,.12), rgba(255,130,71,.08));border-color:var(--accent)}
.next-btn:disabled,.prev-btn:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}
.skip-btn{background:#0e0e15}

/* Loading Overlay */
.loading-overlay{position:fixed;inset:0;background:rgba(11,11,15,.8);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:20}
.loading-content{text-align:center}
.loading-content h3{margin:10px 0 4px}
.loading-content p{margin:0;color:var(--muted)}
.loading-spinner{width:48px;height:48px;border:4px solid rgba(255,255,255,.14);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto}
@keyframes spin{to{transform:rotate(360deg)}}

/* Responsive */
@media (max-width: 980px){
  .test-main{grid-template-columns:1fr}
  .test-sidebar{position:static}
  .question-grid{grid-template-columns:repeat(8,1fr)}
}
@media (max-width: 560px){
  .question-grid{grid-template-columns:repeat(5,1fr)}
  .question-navigation{flex-direction:column;align-items:stretch}
  .nav-center{justify-content:center}
} 